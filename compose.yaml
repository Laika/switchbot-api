---
version: '3'
services:
  api:
    build: ./src/api/
    restart: always
    ports:
      - 8000:8000
    volumes:
      - sensor-data:/data

  sensor:
    build: ./src/sensor/
    restart: always
    network_mode: host
    cap_add:
      - NET_ADMIN
    environment:
      - THERMOMETER_MAC_ADDR=CC:0C:40:6F:1F:19
      - HUMAN_DETECTOR_MAC_ADDR=EF:DA:4A:BE:E0:D1
      - PERIOD=1
    volumes:
      - sensor-data:/data

volumes:
  sensor-data:
    driver: local
